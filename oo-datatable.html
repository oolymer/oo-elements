<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../vaadin-grid/vaadin-grid.html">
<link rel="import" href="../vaadin-grid/vaadin-grid-column.html">
<link rel="import" href="../vaadin-material-theme/vaadin-grid.html">

<dom-module id="oo-datatable">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <app-toolbar>
      <slot></slot>
    </app-toolbar>

    <iron-ajax auto
      url="https://demo.vaadin.com/demo-data/1.0/people?count=200"
      handle-as="json"
      last-response="{{users}}">
    </iron-ajax>

    <vaadin-grid aria-label="Basic Binding Example" items="[[users.result]]">

      <vaadin-grid-column width="60px" flex-grow="0">
        <template class="header">#</template>
        <template>[[index]]</template>
      </vaadin-grid-column>

      <vaadin-grid-column>
        <template class="header">First Name</template>
        <template>[[item.firstName]]</template>
      </vaadin-grid-column>

      <vaadin-grid-column>
        <template class="header">Last Name</template>
        <template>[[item.lastName]]</template>
      </vaadin-grid-column>

      <vaadin-grid-column width="150px">
        <template class="header">Address</template>
        <template>
          <p style="white-space: normal">[[item.address.street]], [[item.address.city]]</p>
        </template>
      </vaadin-grid-column>

    </vaadin-grid>
  </template>

  <script>
    (function () {
      class OoDatatable extends Polymer.Element {
        static get is() {
          return "oo-datatable"
        }

        ready() {
          super.ready()
          console.log("[oo-datatable]", "ready")
        }
      }

      window.customElements.define(OoDatatable.is, OoDatatable)
    }())
  </script>
</dom-module>
